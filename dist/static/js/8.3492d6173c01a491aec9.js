webpackJsonp([8],{KHf9:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("n5Qe"),s=i("XAb4"),l=i("s6tw"),o={data:function(){return{parentCode:"",submitState:"",facility:"",partPoint:"",ruleForm:{epedName:"",inNum:"",localArea:"",areaCode:"",address:"",latLon:"",parentId:"",checkPoint:[]},rules:{epedName:[{required:!0,message:"必填",trigger:"blur"}],inNum:[{required:!0,message:"必填",trigger:"blur"}],areaCode:[{required:!0,message:"必填",trigger:"change"}],address:[{required:!0,message:"必填",trigger:"blur"}]},special:{areaCode:[],lng:"",lat:""},deletingMonitorIdArr:[],parentIdOptions:[],pointDataOptions:[{value:1,label:"身份证+温度"},{value:2,label:"人脸+温度"},{value:3,label:"人脸+温度+身份证"}],checkPoint:[],checkPointNative:[],dialogAddCheckPoint:!1,ruleFormCheckPoint:{pointName:"",pointData:[],pointDataCN:""},rulesCheckPoint:{},checkPointDataArr:[],checkPointDetailState:"",dialogCheckPointDetail:!1,ruleFormCheckPointDetail:{pointId:"",pointName:"",pointData:[],pointDataCN:"",observeName:""},rulesCheckPointDetail:{},checkPointDetailDataArr:[]}},created:function(){this.parentCode=this.$route.query.epedId,this.submitState=this.$route.query.submitState,this.facility=localStorage.getItem("facility")?parseInt(localStorage.getItem("facility")):100,this.partPoint=localStorage.getItem("partPoint")?parseInt(localStorage.getItem("partPoint")):100},mounted:function(){this.getDigitalDetail(),this.searchMap(),this.getCorpList()},methods:{getCorpList:function(){var t=this;e.a.digital.getCorpList().then(function(a){t.parentIdOptions=[],a.data.data.forEach(function(a){t.parentIdOptions.push({label:a.name,value:a.id})})})},getDigitalDetail:function(){var t=this;e.a.digital.getDigitalDetail(this.parentCode).then(function(a){var i=a.data.data;t.checkPointNative=s.a.deepClone(i.checkPoint),t.ruleForm=i,""!==t.ruleForm.areaCode&&(t.special.areaCode=t.transformAreaCode(t.ruleForm.areaCode+"")),t.checkPoint=[],t.ruleForm.checkPoint.length>0&&t.ruleForm.checkPoint.forEach(function(a){var i=a.pointData.split("|").map(function(t){return+t}),e=[];i.forEach(function(a){e.push(t.returnPointDataCN(a))}),t.checkPoint.push({pointId:a.pointId,pointName:a.pointName,pointData:i,pointDataCN:e.join("，"),relatedNum:a.relatedNum,observeName:a.observeName})}),t.searchMap(i.latLon)})},returnPointDataCN:function(t){return 1==t?"身份证+温度":2==t?"人脸+温度":3==t?"人脸+温度+身份证":""},searchMap:function(t){var a,i,e=this;i="theme2"==(localStorage.getItem("theme")?localStorage.getItem("theme"):"theme1")?"amap://styles/85ed8cccf4c51fa1c36fd40d443619eb":"amap://styles/db9065b28cc027a6a3240fc2ae093125";var s=new AMap.Map("map-container",{resizeEnable:!0,zoom:20,mapStyle:i}),l=!1;function o(t,i){(a=new AMap.Marker({map:s,content:'\n          <div class="point">\n            <div class="point-light"></div>\n            <div class="point-circle"></div>\n          </div>\n          ',position:[t,i],draggable:l})).setMap(s),e.special.lng=t,e.special.lat=i,a.on("dragging",function(t){e.special.lng=t.lnglat.lng,e.special.lat=t.lnglat.lat})}if("put"==this.submitState&&(l=!0),t){var n=t.split(",")[0],c=t.split(",")[1];o(n,c),s.setCenter([n,c])}this.ruleForm.localArea,this.ruleForm.address;var r=new AMap.Autocomplete({input:"address"});AMap.event.addListener(r,"select",function(t){s.clearMap(),s.setZoomAndCenter(20,[t.poi.location.lng,t.poi.location.lat]),o(t.poi.location.lng,t.poi.location.lat),e.ruleForm.address=t.poi.name,e.special.areaCode=e.transformAreaCode(t.poi.adcode),e.ruleForm.areaCode=e.special.areaCode[e.special.areaCode.length-1]||"";e.ruleForm.localArea=t.poi.district.match(/.+?(省|市|自治区|自治州|县|区)/g).join("/"),setTimeout(function(){e.$refs.laForm.clearValidate("areaCode")},100)}),"put"==this.submitState&&s.on("click",function(t){s.clearMap(),e.special.lng=t.lnglat.lng,e.special.lat=t.lnglat.lat,o(t.lnglat.lng,t.lnglat.lat)})},transformAreaCode:function(t){if("string"==typeof t){var a=t.substr(0,2),i=t.substr(0,4),e=t.substr(0,6),s=t.substr(0,9),l=[];return t.length<=2?l.push(a):t.length>2&&t.length<=4?l.push(a,i):t.length>4&&t.length<=6?l.push(a,i,e):l.push(a,i,e,s),l}if(t instanceof Array)return t[t.length-1]},getCity:function(t,a){this.ruleForm.areaCode=t[t.length-1]||"",this.special.areaCode=t,this.ruleForm.localArea=a.join("/")},checkPointDelete:function(t,a){var i=t;if(void 0!==i.relatedNum&&0!==i.relatedNum)return this.$message.error("有绑定检测任务，不允许删除");i.pointId&&this.deletingMonitorIdArr.push(i.pointId),this.checkPoint.splice(a,1)},clearRuleFormCheckPoint:function(){this.ruleFormCheckPoint={pointName:"",pointData:"",pointDataCN:""},this.checkPointDataArr=[]},openDialogAddCheckPoint:function(){if(this.checkPoint.length>=this.partPoint)return this.$message.error("剩余可添加检测区域0");this.checkPoint.push({pointName:"",pointData:[],pointDataCN:""})},closeDialogAddCheckPoint:function(){this.clearRuleFormCheckPoint(),this.dialogAddCheckPoint=!1},saveCheckPoint:function(){if(0===this.checkPointDataArr.length||""===this.ruleFormCheckPoint.pointName)return this.$message.error("检测区域请填写完整");this.checkPoint.push(this.ruleFormCheckPoint),this.closeDialogAddCheckPoint()},formPointDataChange:function(){var t=[];this.checkPointDataArr.length>0&&this.checkPointDataArr.forEach(function(a,i){1==a?t.push("身份证+温度"):2==a?t.push("人脸+温度"):3==a&&t.push("人脸+温度+身份证")}),this.ruleFormCheckPoint.pointDataCN=t.join("，"),this.ruleFormCheckPoint.pointData=this.checkPointDataArr},listPointDataChange:function(t){var a=[];this.checkPoint[t].pointData.length>0&&this.checkPoint[t].pointData.forEach(function(t){1==t?a.push("身份证+温度"):2==t?a.push("人脸+温度"):3==t&&a.push("人脸+温度+身份证")}),this.checkPoint[t].pointDataCN=a.join("，")},openDialogCPDetail:function(t){this.checkPointDetailState="";var a=this.checkPoint[t];this.dialogCheckPointDetail=!0,this.ruleFormCheckPointDetail={pointId:a.pointId,pointName:a.pointName,pointData:a.pointData,pointDataCN:a.pointDataCN,observeName:a.observeName},this.checkPointDetailDataArr=a.pointData},closeDialogCPDetail:function(){this.checkPointDetailState="",this.dialogCheckPointDetail=!1},formPointDetailDataChange:function(){var t=this,a=[];this.checkPointDetailDataArr.length>0&&this.checkPointDetailDataArr.forEach(function(i,e){a.push(t.returnPointDataCN(i))}),this.ruleFormCheckPointDetail.pointDataCN=a.join("，"),this.ruleFormCheckPointDetail.pointData=this.checkPointDataArr},editCheckPointSubmit:function(){var t=this;if(0===this.checkPointDetailDataArr.length||""===this.ruleFormCheckPointDetail.pointName)return this.$message.error("检测区域请填写完整");var a={pointId:this.ruleFormCheckPointDetail.pointId,pointName:this.ruleFormCheckPointDetail.pointName,pointData:this.checkPointDetailDataArr.join("|")};e.a.digital.editEpidemicMonitor(a).then(function(a){200==a.data.code?(t.$message.success("保存成功"),t.dialogCheckPointDetail=!1,t.getDigitalDetail()):t.$message.error(a.data.message)})},submit:function(){var t=this,a=!0,i="";this.$refs.laForm.validate(function(s){if(s){var l=t.special.lng||"",o=t.special.lat||"";if(t.ruleForm.latLon=l&&o?l+","+o:"",!t.special.lng||!t.special.lat)return t.$message.error("请点击地图确定电梯具体位置");if(t.checkPoint.some(function(t){return""===t.pointName}))return t.$message.error("监测区域名称不能为空");if(t.checkPoint.some(function(t){return 0===t.pointData.length}))return t.$message.error("可监测数据不能为空");if(function(t){for(var a=!1,i={},e=0;e<t.length;e++)i[t[e].pointName]?i[t[e].pointName]++:i[t[e].pointName]=1;for(var s in i)i[s]>1&&(a=!0);return a}(t.checkPoint))return t.$message.error("监测区域名重复");var n={epedId:t.parentCode,epedName:t.ruleForm.epedName,inNum:t.ruleForm.inNum,localArea:t.ruleForm.localArea,areaCode:t.ruleForm.areaCode,address:t.ruleForm.address,latLon:t.ruleForm.latLon,parentId:t.ruleForm.parentId};e.a.digital.editEpidemic(n).then(function(s){if(0===t.checkPoint.length)return t.$message.error("检测区域请填写完整");t.checkPoint.forEach(function(s,l){if(s.pointId){var o={pointId:s.pointId,pointName:s.pointName,pointData:s.pointData.join("|")};e.a.digital.editEpidemicMonitor(o).then(function(t){200!=t.data.code&&(a=!1,i=t.data.message)})}else{var n={epedId:t.parentCode,pointName:s.pointName,pointData:s.pointData.join("|")};e.a.digital.addEpidemicMonitor(n).then(function(t){200!=t.data.code&&(a=!1,i=t.data.message)})}}),t.deletingMonitorIdArr.length>0&&t.deletingMonitorIdArr.forEach(function(t){e.a.digital.deleteEpidemicMonitor(t).then(function(t){})}),setTimeout(function(){200==s.data.code&&a?(t.$message.success("编辑成功"),t.$router.push({path:"/digital-detail",query:{epedId:t.parentCode,submitState:"get"}}),t.getDigitalDetail()):i?t.$message.error(i):t.$message.error(s.data.message)},500)})}})},goEdit:function(){this.$router.push({path:"/digital-detail",query:{epedId:this.parentCode,submitState:"put"}})},backDetail:function(){this.$router.push({path:"/digital-detail",query:{epedId:this.parentCode,submitState:"get"}})},goObserveList:function(){this.$router.push({path:"/observe-list",query:{epedId:this.parentCode}})},goDiagnList:function(){this.$router.push({path:"/diagnosis-list",query:{epedId:this.parentCode}})},goDigitalDetail:function(){this.$router.push({path:"/digital-detail",query:{epedId:this.parentCode}})},goAbnormalDetail:function(){this.$router.push({path:"/digital-abnormal",query:{epedId:this.parentCode}})}},components:{"city-choose":i("LcFk").a,"footer-temp":l.a}},n={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"xym",attrs:{id:"DigitalDetail"}},[i("div",{staticClass:"bread-nav"},[i("span",{on:{click:function(a){return t.$router.push("/digital-list")}}},[t._v("数字防疫点")]),t._v(" "),i("em",[t._v("/ 防疫点档案")])]),t._v(" "),i("div",{staticClass:"x-container"},[i("div",{staticClass:"digital-detail-tabTop clearfix",staticStyle:{"margin-top":"30px"}},[i("div",{staticClass:"digital-detail-tab"},[i("span",{staticClass:"on",staticStyle:{"z-index":"4"},on:{click:t.goDigitalDetail}},[t._v("基本档案")]),t._v(" "),i("span",{staticStyle:{"z-index":"3"},on:{click:t.goAbnormalDetail}},[t._v("异常档案")])]),t._v(" "),i("div",{staticClass:"digital-detail-tabTop-a clearfix"},[i("div",{staticClass:"digital-detail-tabTop-anav",on:{click:t.goObserveList}},[t._v("检测任务管理")]),t._v(" "),i("div",{staticClass:"digital-detail-tabTop-anav-span"},[t._v("|")]),t._v(" "),i("div",{staticClass:"digital-detail-tabTop-anav",on:{click:t.goDiagnList}},[t._v("监测应用管理")])])]),t._v(" "),i("div",{staticClass:"la-result"},[i("el-form",{ref:"laForm",attrs:{model:t.ruleForm,rules:t.rules}},[i("div",{staticClass:"digital-detail-basic"},[i("div",{staticClass:"xtitle-heading"},[i("div",{staticClass:"xtitle-heading-h"},[i("div",{staticClass:"xtitle-heading-h-line"}),t._v(" "),i("div",{staticClass:"xtitle-heading-h-p"},[t._v("基本信息")])])]),t._v(" "),i("div",{staticClass:"digital-detail-basic-content"},[i("div",{staticClass:"lar-con clearfix"},[i("el-form-item",{staticClass:"lar-box clearfix",attrs:{prop:"epedName"}},[i("div",{staticClass:"lar-box-h4"},["put"==t.submitState?i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]):t._e(),t._v("防疫点名称")]),t._v(" "),"put"==t.submitState?i("div",{staticClass:"lar-box-el-input"},[i("el-input",{attrs:{maxlength:"100",placeholder:"请输入防疫点名称",size:"small"},model:{value:t.ruleForm.epedName,callback:function(a){t.$set(t.ruleForm,"epedName",a)},expression:"ruleForm.epedName"}})],1):i("div",{staticClass:"show-pp"},[t._v(t._s(""!==t.ruleForm.epedName?t.ruleForm.epedName:"--"))])]),t._v(" "),i("el-form-item",{staticClass:"lar-box",attrs:{prop:"inNum"}},[i("div",{staticClass:"lar-box-h4"},["put"==t.submitState?i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]):t._e(),t._v("内部编号")]),t._v(" "),"put"==t.submitState?i("div",{staticClass:"lar-box-el-input"},[i("el-input",{attrs:{maxlength:"100",placeholder:"请输入防疫点内部编号",size:"small"},model:{value:t.ruleForm.inNum,callback:function(a){t.$set(t.ruleForm,"inNum",a)},expression:"ruleForm.inNum"}})],1):i("div",{staticClass:"show-pp"},[t._v(t._s(""!==t.ruleForm.inNum?t.ruleForm.inNum:"--"))])]),t._v(" "),i("el-form-item",{staticClass:"lar-box",attrs:{prop:"areaCode"}},[i("div",{staticClass:"lar-box-h4"},["put"==t.submitState?i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]):t._e(),t._v("区域")]),t._v(" "),"put"==t.submitState?i("div",{staticClass:"lar-box-el-input"},[i("city-choose",{ref:"cityChooseRef",attrs:{selectCity:t.special.areaCode},on:{childVal:t.getCity}})],1):i("div",{staticClass:"show-pp"},[t._v(t._s(""!==t.ruleForm.localArea?t.ruleForm.localArea:"--"))])]),t._v(" "),i("el-form-item",{staticClass:"lar-box",attrs:{prop:"address"}},[i("div",{staticClass:"lar-box-h4"},["put"==t.submitState?i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]):t._e(),t._v("详细地址")]),t._v(" "),i("div",{staticClass:"special-address-box"},[i("div",{staticClass:"lar-box-el-input lar-box-el-input-address",class:"put"==t.submitState?"special-address-opacity":""},[i("el-input",{attrs:{maxlength:"100",size:"small",id:"address",placeholder:"请输入详细地址"},model:{value:t.ruleForm.address,callback:function(a){t.$set(t.ruleForm,"address",a)},expression:"ruleForm.address"}})],1),t._v(" "),i("div",{staticClass:"show-pp",class:"put"==t.submitState?"":"special-address-opacity"},[t._v(t._s(""!==t.ruleForm.address?t.ruleForm.address:"--"))])])])],1),t._v(" "),i("div",{staticClass:"map-box"},[i("div",{attrs:{id:"map-container"}})]),t._v(" "),"put"!=t.submitState?i("div",{staticClass:"lar-box lar-box-parent clearfix",staticStyle:{float:"none",width:"100%"}},[i("div",{staticClass:"lar-box-h4",staticStyle:{"padding-right":"0",width:"92px","text-align":"left"}},[t._v("所属上级")]),t._v(" "),i("div",{staticClass:"show-pp show-pp-parentname"},[t._v(t._s(t.ruleForm.parentName&&""!==t.ruleForm.parentName?t.ruleForm.parentName:"--"))])]):t._e()])]),t._v(" "),"put"==t.submitState?i("div",{staticClass:"digital-detail-checkArea"},[i("div",{staticClass:"xtitle-heading"},[i("div",{staticClass:"xtitle-heading-h"},[i("div",{staticClass:"xtitle-heading-h-line"}),t._v(" "),i("div",{staticClass:"xtitle-heading-h-p"},[t._v("检测区域（"+t._s(t.checkPoint.length)+"）")])])]),t._v(" "),i("div",{staticClass:"digital-detail-checkArea-content clearfix"},[t._l(t.checkPoint,function(a,e){return i("div",{key:e,staticClass:"dd-checkArea-box"},[i("div",{staticClass:"dd-checkArea-box-close",on:{click:function(i){return t.checkPointDelete(a,e)}}}),t._v(" "),i("div",{staticClass:"ddcarea-item"},[i("div",{staticClass:"ddcarea-item-label"},[i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]),t._v("检测区域名称")]),t._v(" "),i("div",{staticClass:"ddcarea-item-input"},[i("el-input",{attrs:{maxlength:"50",size:"small"},model:{value:a.pointName,callback:function(i){t.$set(a,"pointName",i)},expression:"item.pointName"}})],1)]),t._v(" "),i("div",{staticClass:"ddcarea-item"},[i("div",{staticClass:"ddcarea-item-label"},[i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]),t._v("可测量数据")]),t._v(" "),i("div",{staticClass:"ddcarea-item-input"},[i("el-dropdown",{staticStyle:{width:"100%"},attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link"},[i("div",{staticStyle:{position:"absolute",top:"5px",right:"10px","z-index":"10"}},[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-input",{staticClass:"ddcarea-item-input-cn",attrs:{size:"small",placeholder:"请选择部件"},model:{value:a.pointDataCN,callback:function(i){t.$set(a,"pointDataCN",i)},expression:"item.pointDataCN"}})],1),t._v(" "),i("el-dropdown-menu",{staticStyle:{width:"260px"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("div",{staticClass:"checkPoint-dropdown"},[i("el-checkbox-group",{on:{change:function(a){return t.listPointDataChange(e)}},model:{value:a.pointData,callback:function(i){t.$set(a,"pointData",i)},expression:"item.pointData"}},t._l(t.pointDataOptions,function(a){return i("el-checkbox",{key:a.value,staticStyle:{display:"block !important","margin-left":"0px !important","margin-top":"10px"},attrs:{label:a.value}},[t._v(t._s(a.label))])}),1)],1)])],1)],1)])])}),t._v(" "),i("div",{staticClass:"dd-checkArea-box",staticStyle:{cursor:"pointer"},on:{click:t.openDialogAddCheckPoint}},[i("div",{staticClass:"add-check-point"},[i("div",{staticClass:"add-check-point-img"}),t._v(" "),i("div",{staticClass:"add-check-point-p"},[t._v("添加区域")])])])],2)]):i("div",{staticClass:"digital-detail-checkArea"},[i("div",{staticClass:"xtitle-heading"},[i("div",{staticClass:"xtitle-heading-h"},[i("div",{staticClass:"xtitle-heading-h-line"}),t._v(" "),i("div",{staticClass:"xtitle-heading-h-p"},[t._v("检测区域（"+t._s(t.ruleForm.checkPoint.length)+"）")])])]),t._v(" "),i("div",{staticClass:"digital-detail-checkArea-content clearfix"},[i("div",{staticClass:"ll-table",staticStyle:{"padding-left":"0px","padding-right":"0px"}},[i("div",{staticClass:"llt-thead"},[i("div",{staticClass:"llt-tr clearfix"},[i("div",{staticClass:"llt-th"},[t._v("检测区域名称")]),t._v(" "),i("div",{staticClass:"llt-th"},[t._v("已关联检测任务数")]),t._v(" "),i("div",{staticClass:"llt-th"},[t._v("操作")])])]),t._v(" "),i("div",{staticClass:"llt-tbody"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.ruleForm.checkPoint.length,expression:"ruleForm.checkPoint.length == 0"}],staticClass:"list-no-data"},[t._v("暂无数据")]),t._v(" "),t._l(t.ruleForm.checkPoint,function(a,e){return i("div",{key:e,staticClass:"llt-tr clearfix"},[i("div",{staticClass:"llt-tr-container clearfix"},[i("div",{staticClass:"llt-td"},[t._v(t._s(a.pointName))]),t._v(" "),i("div",{staticClass:"llt-td"},[t._v(t._s(a.relatedNum))]),t._v(" "),i("div",{staticClass:"llt-td"},[i("span",{staticClass:"llt-td-a",on:{click:function(a){return t.openDialogCPDetail(e)}}},[t._v("详情")])])])])})],2)])])]),t._v(" "),"put"==t.submitState?i("div",{staticClass:"xlist-btn-con clearfix"},[i("div",{staticClass:"xlist-btn xlist-btn-submit",staticStyle:{float:"left"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),i("div",{staticClass:"xlist-btn xlist-btn-cancel",staticStyle:{float:"left","margin-left":"40px"},on:{click:t.backDetail}},[t._v("取消")])]):i("div",{staticClass:"xlist-btn-con clearfix"},[i("div",{staticClass:"xlist-btn xlist-btn-submit",staticStyle:{float:"left"},on:{click:t.goEdit}},[t._v("编辑")])])])],1)]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogAddCheckPoint,title:"添加检测区域","show-close":!1,width:"700px"},on:{"update:visible":function(a){t.dialogAddCheckPoint=a}}},[i("div",{staticClass:"dia-content"},[i("el-form",{ref:"checkPointRef",staticClass:"diaForm",attrs:{model:t.ruleFormCheckPoint,rules:t.rulesCheckPoint}},[i("div",{staticClass:"dia-clist"},[i("div",{staticClass:"dia-citem"},[i("div",{staticClass:"dia-citem-label"},[i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]),t._v("检测区域名称")]),t._v(" "),i("div",{staticClass:"dia-citem-ib"},[i("el-input",{attrs:{maxlength:"50",size:"small",placeholder:"请选择部件"},model:{value:t.ruleFormCheckPoint.pointName,callback:function(a){t.$set(t.ruleFormCheckPoint,"pointName",a)},expression:"ruleFormCheckPoint.pointName"}})],1)]),t._v(" "),i("div",{staticClass:"dia-citem"},[i("div",{staticClass:"dia-citem-label"},[i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]),t._v("可测量数据（多选）")]),t._v(" "),i("div",{staticClass:"dia-citem-ib"},[i("el-dropdown",{staticStyle:{width:"100%"},attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link"},[i("div",{staticStyle:{position:"absolute",top:"5px",right:"10px","z-index":"10"}},[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-input",{attrs:{size:"small",placeholder:"请选择部件"},model:{value:t.ruleFormCheckPoint.pointDataCN,callback:function(a){t.$set(t.ruleFormCheckPoint,"pointDataCN",a)},expression:"ruleFormCheckPoint.pointDataCN"}})],1),t._v(" "),i("el-dropdown-menu",{staticStyle:{width:"640px"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("div",{staticClass:"checkPoint-dropdown"},[i("el-checkbox-group",{on:{change:t.formPointDataChange},model:{value:t.checkPointDataArr,callback:function(a){t.checkPointDataArr=a},expression:"checkPointDataArr"}},t._l(t.pointDataOptions,function(a){return i("el-checkbox",{key:a.value,staticStyle:{display:"block !important","margin-left":"0px !important","margin-top":"10px"},attrs:{label:a.value}},[t._v(t._s(a.label))])}),1)],1)])],1)],1)])])]),t._v(" "),i("div",{staticClass:"dia-btn-con",staticStyle:{"text-align":"right"}},[i("div",{staticClass:"dia-btn dia-btn-cancel",on:{click:t.closeDialogAddCheckPoint}},[t._v("取消")]),t._v(" "),i("div",{staticClass:"dia-btn dia-btn-submit",on:{click:t.saveCheckPoint}},[t._v("完成")])])],1)]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogCheckPointDetail,title:"检测区域详情","show-close":!1,width:"700px"},on:{"update:visible":function(a){t.dialogCheckPointDetail=a}}},[i("div",{staticClass:"dia-content"},[i("el-form",{ref:"checkPointDetailRef",staticClass:"diaForm",attrs:{model:t.ruleFormCheckPointDetail,rules:t.rulesCheckPointDetail}},[i("div",{staticClass:"dia-clist"},[i("div",{staticClass:"dia-citem"},[i("div",{staticClass:"dia-citem-label"},["put"==t.checkPointDetailState?i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]):t._e(),t._v("检测区域名称")]),t._v(" "),"put"==t.checkPointDetailState?i("div",{staticClass:"dia-citem-ib"},[i("el-input",{attrs:{maxlength:"50",size:"small",placeholder:"请选择部件"},model:{value:t.ruleFormCheckPointDetail.pointName,callback:function(a){t.$set(t.ruleFormCheckPointDetail,"pointName",a)},expression:"ruleFormCheckPointDetail.pointName"}})],1):i("div",{staticClass:"cpd-pp"},[t._v(t._s(""!==t.ruleFormCheckPointDetail.pointName?t.ruleFormCheckPointDetail.pointName:"--"))])]),t._v(" "),i("div",{staticClass:"dia-citem"},[i("div",{staticClass:"dia-citem-label"},["put"==t.checkPointDetailState?i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]):t._e(),t._v("可测量数据"),"put"==t.checkPointDetailState?i("i",[t._v("（多选）")]):t._e()]),t._v(" "),"put"==t.checkPointDetailState?i("div",{staticClass:"dia-citem-ib"},[i("el-dropdown",{staticStyle:{width:"100%"},attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link"},[i("div",{staticStyle:{position:"absolute",top:"5px",right:"10px","z-index":"10"}},[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-input",{attrs:{size:"small",placeholder:"请选择部件"},model:{value:t.ruleFormCheckPointDetail.pointDataCN,callback:function(a){t.$set(t.ruleFormCheckPointDetail,"pointDataCN",a)},expression:"ruleFormCheckPointDetail.pointDataCN"}})],1),t._v(" "),i("el-dropdown-menu",{staticStyle:{width:"640px"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("div",{staticClass:"checkPoint-dropdown"},[i("el-checkbox-group",{on:{change:t.formPointDetailDataChange},model:{value:t.checkPointDetailDataArr,callback:function(a){t.checkPointDetailDataArr=a},expression:"checkPointDetailDataArr"}},t._l(t.pointDataOptions,function(a){return i("el-checkbox",{key:a.value,staticStyle:{display:"block !important","margin-left":"0px !important","margin-top":"10px"},attrs:{label:a.value}},[t._v(t._s(a.label))])}),1)],1)])],1)],1):i("div",{staticClass:"cpd-pp"},[t._v(t._s(""!==t.ruleFormCheckPointDetail.pointDataCN?t.ruleFormCheckPointDetail.pointDataCN:"--"))])]),t._v(" "),"put"!=t.checkPointDetailState?i("div",{staticClass:"dia-citem"},[i("div",{staticClass:"dia-citem-label"},["put"==t.checkPointDetailState?i("span",{staticClass:"dia-citem-label-must"},[t._v("*")]):t._e(),t._v("已关联检测任务")]),t._v(" "),i("div",{staticClass:"cpd-pp"},[t._v(t._s(""!==t.ruleFormCheckPointDetail.observeName?t.ruleFormCheckPointDetail.observeName:"--"))])]):t._e()])]),t._v(" "),"put"==t.checkPointDetailState?i("div",{staticClass:"dia-btn-con",staticStyle:{"text-align":"right"}},[i("div",{staticClass:"dia-btn dia-btn-cancel",on:{click:function(a){t.dialogCheckPointDetail=!1}}},[t._v("取消")]),t._v(" "),i("div",{staticClass:"dia-btn dia-btn-submit",on:{click:t.editCheckPointSubmit}},[t._v("保存")])]):i("div",{staticClass:"dia-btn-con",staticStyle:{"text-align":"right"}},[i("div",{staticClass:"dia-btn dia-btn-cancel",on:{click:function(a){t.checkPointDetailState="put"}}},[t._v("编辑")]),t._v(" "),i("div",{staticClass:"dia-btn dia-btn-submit",on:{click:function(a){t.dialogCheckPointDetail=!1}}},[t._v("关闭")])])],1)])],1)},staticRenderFns:[]};var c=i("VU/8")(o,n,!1,function(t){i("knnU"),i("hsol")},"data-v-5fe6218c",null);a.default=c.exports},hsol:function(t,a){},knnU:function(t,a){}});